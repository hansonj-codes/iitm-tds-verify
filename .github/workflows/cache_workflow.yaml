name: Cache Example Workflow
on:
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "cache-environment"
  cancel-in-progress: false

jobs:
  cache_job:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/cache@v4
        name: Cache example
        id: cache_job
        
        with:
          path: ~/testfile.txt
          key: cache-26d06d6

      - name: prime-cache-26d06d6
        env:
          CACHE_HIT: ${{ steps.cache_job.outputs.cache-hit }}
        run: |
          if [ "$CACHE_HIT" != "true" ]; then
            echo "Cache miss occurred. Priming the cache..."
          else
            echo "Cache hit occurred. No need to prime the cache."
          fi
      
      - name: Create or Update testfile.txt
        run: echo "This is a test file." > ~/testfile.txt
